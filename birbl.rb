require 'birbl'
require 'yaml'

Birbl::Client.new('development')
Birbl::Client.instance.dev_url = 'http://localhost:8080'
Birbl::Client.instance.use_sandbox = true

s = "20130312T211500ZP0Y0M0DT1H0MRRULE:FREQ=WEEKLY;BYDAY=TU;UNTIL=20130327T100000Z,20130314T190000ZP0Y0M0DT1H0MRRULE:FREQ=WEEKLY;BYDAY=TH;UNTIL=20130329T100000Z,20130313T201500ZP0Y0M0DT1H0MRRULE:FREQ=WEEKLY;BYDAY=WE;UNTIL=20130328T100000Z,20130315T180000ZP0Y0M0DT1H0MRRULE:FREQ=WEEKLY;BYDAY=FR;UNTIL=20130330T100000Z,20130316T123000ZP0Y0M0DT1H0MRRULE:FREQ=WEEKLY;BYDAY=SA;UNTIL=20130331T100000Z"

puts Birbl::DateParser.new(s).dates.to_yaml
